{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/sarahortiz/Senior-Design/screens/ReportWaterQuality.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport styles from \"../Style\";\nimport { Dropdown } from 'react-native-material-dropdown';\nimport { Form, Button } from 'native-base';\nimport * as ImagePicker from 'expo-image-picker';\nimport { CheckBox } from 'react-native-elements';\n\nvar ReportWaterQuality = function (_React$Component) {\n  _inherits(ReportWaterQuality, _React$Component);\n\n  var _super = _createSuper(ReportWaterQuality);\n\n  function ReportWaterQuality() {\n    var _this;\n\n    _classCallCheck(this, ReportWaterQuality);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      sender: '',\n      community: 0,\n      urgent: '',\n      message: '',\n      audio: null,\n      image: null,\n      subject: ''\n    };\n\n    _this.createIncident = function () {\n      fetch(\"http://10.0.0.123:3004/incidents\", {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          \"sender\": _this.state.sender,\n          \"community\": _this.state.community,\n          \"urgent\": _this.state.urgent,\n          \"message\": _this.state.message,\n          \"audio\": _this.state.audio,\n          \"image\": _this.state.image,\n          \"subject\": _this.state.subject\n        }),\n        redirect: 'follow'\n      }).then(function (response) {\n        return response.text();\n      }).then(function (result) {\n        return console.log(result);\n      }).catch(function (error) {\n        return console.log('error', error);\n      });\n    };\n\n    _this.getPermissionAsync = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [4, 3],\n                quality: 1\n              }));\n\n            case 3:\n              result = _context2.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result.uri\n                });\n              }\n\n              console.log(result);\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(ReportWaterQuality, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var image = this.state.image;\n      var community = [{\n        value: 'Communidad 1'\n      }, {\n        value: 'Communidad 2'\n      }, {\n        value: 'Communidad 3'\n      }, {\n        value: 'Communidad 4'\n      }, {\n        value: 'Communidad 5'\n      }, {\n        value: 'Communidad 6'\n      }, {\n        value: 'Communidad 7'\n      }, {\n        value: 'Communidad 8'\n      }, {\n        value: 'Communidad 9'\n      }, {\n        value: 'Communidad 10'\n      }, {\n        value: 'Communidad 11'\n      }, {\n        value: 'Communidad 12'\n      }, {\n        value: 'Communidad 13'\n      }, {\n        value: 'Communidad 14'\n      }];\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 4\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 5\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://cluster-nicaragua.net/organizaciones/centro-de-informacion-e-innovacion-asociacion-de-desarrollo-social-de-nicaragua');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/asdenic.png\"),\n        style: styles.asdenicLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/frugalHub.png\"),\n        style: styles.frugalHubLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Welcome');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }\n      }, React.createElement(Text, {\n        style: styles.logoutButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, \"Cerrar sesi\\xF3n\"))), React.createElement(View, {\n        style: styles.pageContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: styles.reportWaterCont,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 6\n        }\n      }, React.createElement(Button, {\n        style: styles.backButton,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('WaterHome');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.backText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }\n      }, '<', \" Atr\\xE1s\")), React.createElement(Text, {\n        style: styles.reportWaterHead,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, \"Informar sobre incidentes de calidad de agua en su comunidad\"), React.createElement(View, {\n        style: styles.reportWaterBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.reportWaterScrollView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 8\n        }\n      }, React.createElement(TextInput, {\n        style: styles.reportWaterNameInput,\n        underlineColorAndroid: \"transparent\",\n        placeholder: \"Nombre y apellidos\",\n        placeholderTextColor: \"#707070\",\n        autoCapitalize: \"none\",\n        textAlign: \"left\",\n        onChangeText: function onChangeText(sender) {\n          return _this2.setState({\n            sender: sender\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.reportWaterSubjectInput,\n        underlineColorAndroid: \"transparent\",\n        placeholder: \"Asunto\",\n        placeholderTextColor: \"#707070\",\n        autoCapitalize: \"none\",\n        textAlign: \"left\",\n        onChangeText: function onChangeText(subject) {\n          return _this2.setState({\n            subject: subject\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }), React.createElement(Dropdown, {\n        containerStyle: styles.reportWaterCommDropdown,\n        label: \"Eligir su comunidad\",\n        data: community,\n        dropdownOffset: {\n          'top': 7,\n          'left': 0\n        },\n        inputContainerStyle: {\n          borderBottomColor: 'transparent'\n        },\n        baseColor: \"#707070\",\n        onChangeText: function onChangeText(community) {\n          return _this2.setState({\n            community: community\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.reportWaterIncidentInput,\n        multiline: true,\n        underlineColorAndroid: \"transparent\",\n        placeholder: \"Escribir su informe aqu\\xED...\",\n        placeholderTextColor: \"#707070\",\n        autoCapitalize: \"none\",\n        textAlign: \"left\",\n        onChangeText: function onChangeText(message) {\n          return _this2.setState({\n            message: message\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }), React.createElement(CheckBox, {\n        title: \"\\xBFEs urgente?\",\n        containerStyle: styles.checkbox,\n        checkedIcon: \"check-square-o\",\n        uncheckedIcon: \"square-o\",\n        checked: this.state.checked,\n        onPress: function onPress() {\n          return _this2.setState({\n            checked: !_this2.state.checked,\n            urgent: !_this2.state.urgent\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.reportWaterButtons,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.reportWaterRecordButton,\n        onPress: function onPress() {\n          _this2.props.navigation.navigate('RecordMessageIncident');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 10\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/mic.png\"),\n        style: styles.mic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, \"Grabar mensaje\")), React.createElement(TouchableOpacity, {\n        style: styles.reportWaterUploadButton,\n        onPress: this._pickImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 10\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/mic.png\"),\n        style: styles.mic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontSize: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }, \"Subir una foto\"))), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, \"\\n\"), image && React.createElement(Image, {\n        source: {\n          uri: image\n        },\n        style: {\n          width: 200,\n          height: 200\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 19\n        }\n      }))), React.createElement(TouchableOpacity, {\n        style: styles.createReportPublishButton,\n        onPress: function onPress() {\n          _this2.createIncident();\n\n          _this2.props.navigation.navigate('ConfirmWaterQualityReport');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 17,\n          color: 'white',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 8\n        }\n      }, \"Enviar\")))), React.createElement(View, {\n        style: styles.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 5\n        }\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPermissionAsync();\n    }\n  }]);\n\n  return ReportWaterQuality;\n}(React.Component);\n\nexport { ReportWaterQuality as default };","map":{"version":3,"sources":["/Users/sarahortiz/Senior-Design/screens/ReportWaterQuality.js"],"names":["React","styles","Dropdown","Form","Button","ImagePicker","CheckBox","ReportWaterQuality","state","sender","community","urgent","message","audio","image","subject","createIncident","fetch","method","headers","body","JSON","stringify","redirect","then","response","text","result","console","log","catch","error","getPermissionAsync","_pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","cancelled","setState","uri","value","container","header","Linking","openURL","require","asdenicLogo","frugalHubLogo","props","navigation","navigate","logoutButton","pageContent","reportWaterCont","backButton","backText","reportWaterHead","reportWaterBox","reportWaterScrollView","reportWaterNameInput","reportWaterSubjectInput","reportWaterCommDropdown","borderBottomColor","reportWaterIncidentInput","checkbox","checked","reportWaterButtons","reportWaterRecordButton","mic","fontSize","reportWaterUploadButton","width","height","createReportPublishButton","color","fontWeight","footer","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Text, View, Image, ScrollView, TouchableOpacity, TextInput, Linking } from 'react-native';\nimport styles from '../Style';\nimport { Dropdown } from 'react-native-material-dropdown'\nimport { Form, Button } from 'native-base'\nimport * as ImagePicker from 'expo-image-picker'\nimport { CheckBox } from 'react-native-elements'\n\nexport default class ReportWaterQuality extends React.Component {\n\tstate = {\n\t\tsender: '',\n\t\tcommunity: 0,\n\t\turgent: '',\n\t\tmessage: '',\n\t\taudio: null,\n\t\timage: null,\n\t\tsubject: '',\n\t};\n\n\tcreateIncident = () => {\n\t\t//inserts new incident into database\n\t\tfetch(\"http://10.0.0.123:3004/incidents\", {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\"Content-Type\": \"application/json\"},\n\t\t\tbody: JSON.stringify({\"sender\":this.state.sender,\"community\":this.state.community,\"urgent\":this.state.urgent,\"message\":this.state.message,\"audio\":this.state.audio,\"image\":this.state.image, \"subject\":this.state.subject}),\n\t\t\tredirect: 'follow'\n\t\t})\n\t\t\t.then(response => response.text())\n\t\t\t.then(result => console.log(result))\n\t\t\t.catch(error => console.log('error', error));\n\t}\n\n\trender(){\n\t\tlet { image } = this.state;\n\n\t\tlet community = [{\n\t\t\tvalue: 'Communidad 1',\n\t\t}, {\n\t\t\tvalue: 'Communidad 2',\n\t\t}, {\n\t\t\tvalue: 'Communidad 3',\n\t\t}, {\n\t\t\tvalue: 'Communidad 4',\n\t\t},{\n\t\t\tvalue: 'Communidad 5',\n\t\t}, {\n\t\t\tvalue: 'Communidad 6',\n\t\t}, {\n\t\t\tvalue: 'Communidad 7',\n\t\t},{\n\t\t\tvalue: 'Communidad 8',\n\t\t}, {\n\t\t\tvalue: 'Communidad 9',\n\t\t}, {\n\t\t\tvalue: 'Communidad 10',\n\t\t},{\n\t\t\tvalue: 'Communidad 11',\n\t\t}, {\n\t\t\tvalue: 'Communidad 12',\n\t\t}, {\n\t\t\tvalue: 'Communidad 13',\n\t\t}, {\n\t\t\tvalue: 'Communidad 14'\n\t\t}];\n\n\t\treturn (\n\t\t\t<View style={styles.container}>\n\n\t\t\t\t<View style={styles.header}>\n\t\t\t\t\t<TouchableOpacity\n                        onPress={() => Linking.openURL('https://cluster-nicaragua.net/organizaciones/centro-de-informacion-e-innovacion-asociacion-de-desarrollo-social-de-nicaragua')}>\n                        <Image source={require('../assets/asdenic.png')} style={styles.asdenicLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/')}>\n                        <Image source={require('../assets/frugalHub.png')} style={styles.frugalHubLogo}/>\n                    </TouchableOpacity>\n\n\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\tonPress={() => this.props.navigation.navigate('Welcome')}>\n\t\t\t\t\t\t<Text style={styles.logoutButton}>Cerrar sesión</Text>\n\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t</View>\n\t\t\t\t\n\t\t\t\t<View style={styles.pageContent}>\n\t\t\t\t\t<View style={styles.reportWaterCont}>\n\n\t\t\t\t\t\t<Button style={styles.backButton}\n                            onPress={() => this.props.navigation.navigate('WaterHome')}>\n                            <Text style={styles.backText}>{'<'} Atrás</Text>\n                        </Button>\n\n\t\t\t\t\t\t<Text style={styles.reportWaterHead}>Informar sobre incidentes de calidad de agua en su comunidad</Text>\n\n\t\t\t\t\t\t<View style={styles.reportWaterBox}>\n\t\t\t\t\t\t\t<ScrollView style={styles.reportWaterScrollView}>\n\t\t\t\t\t\t\t\t{/*name*/}\n\t\t\t\t\t\t\t\t<TextInput style={styles.reportWaterNameInput}\n\t\t\t\t\t\t\t\t\tunderlineColorAndroid = \"transparent\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Nombre y apellidos\"\n\t\t\t\t\t\t\t\t\tplaceholderTextColor = \"#707070\"\n\t\t\t\t\t\t\t\t\tautoCapitalize = \"none\"\n\t\t\t\t\t\t\t\t\ttextAlign = \"left\"\n\t\t\t\t\t\t\t\t\tonChangeText = {sender => this.setState({sender})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{/*subject*/}\n\t\t\t\t\t\t\t\t<TextInput style={styles.reportWaterSubjectInput}\n\t\t\t\t\t\t\t\t\tunderlineColorAndroid = \"transparent\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Asunto\"\n\t\t\t\t\t\t\t\t\tplaceholderTextColor = \"#707070\"\n\t\t\t\t\t\t\t\t\tautoCapitalize = \"none\"\n\t\t\t\t\t\t\t\t\ttextAlign = \"left\"\n\t\t\t\t\t\t\t\t\tonChangeText = {subject => this.setState({subject})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{/*community*/}\n\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\tcontainerStyle={styles.reportWaterCommDropdown}\n\t\t\t\t\t\t\t\t\tlabel=\"Eligir su comunidad\"\n\t\t\t\t\t\t\t\t\tdata={community}\n\t\t\t\t\t\t\t\t\tdropdownOffset={{'top':7, 'left':0}}\n\t\t\t\t\t\t\t\t\tinputContainerStyle={{ borderBottomColor: 'transparent' }}\n\t\t\t\t\t\t\t\t\tbaseColor='#707070'\n\t\t\t\t\t\t\t\t\tonChangeText = {community => this.setState({community})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{/*description of incident*/}\n\t\t\t\t\t\t\t\t<TextInput style={styles.reportWaterIncidentInput}\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\tunderlineColorAndroid = \"transparent\"\n\t\t\t\t\t\t\t\t\tplaceholder = \"Escribir su informe aquí...\"\n\t\t\t\t\t\t\t\t\tplaceholderTextColor = \"#707070\"\n\t\t\t\t\t\t\t\t\tautoCapitalize = \"none\"\n\t\t\t\t\t\t\t\t\ttextAlign = \"left\"\n\t\t\t\t\t\t\t\t\tonChangeText = {message => this.setState({message})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<CheckBox\n\t\t\t\t\t\t\t\t\ttitle='¿Es urgente?'\n\t\t\t\t\t\t\t\t\tcontainerStyle={styles.checkbox}\n\t\t\t\t\t\t\t\t\tcheckedIcon='check-square-o'\n\t\t\t\t\t\t\t\t\tuncheckedIcon='square-o'\n\t\t\t\t\t\t\t\t\tchecked={this.state.checked}\n\t\t\t\t\t\t\t\t\tonPress={() => this.setState({checked: !this.state.checked, urgent: !this.state.urgent})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<View style={styles.reportWaterButtons}>\n\t\t\t\t\t\t\t\t\t<TouchableOpacity style={styles.reportWaterRecordButton} onPress={() => {this.props.navigation.navigate('RecordMessageIncident')}}>\n\t\t\t\t\t\t\t\t\t\t<Image source={require('../assets/mic.png')} style={styles.mic}/>\n\t\t\t\t\t\t\t\t\t\t<Text style={{fontSize: 15}}>Grabar mensaje</Text>\n\t\t\t\t\t\t\t\t\t</TouchableOpacity>\n\n\t\t\t\t\t\t\t\t\t<TouchableOpacity style={styles.reportWaterUploadButton} onPress={this._pickImage}>\n\t\t\t\t\t\t\t\t\t\t<Image source={require('../assets/mic.png')} style={styles.mic}/>\n\t\t\t\t\t\t\t\t\t\t<Text style={{fontSize: 15}}>Subir una foto</Text>\n\t\t\t\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t<Text>{\"\\n\"}</Text>\n\t\t\t\t\t\t\t\t{image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}\n\t\t\t\t\t\t\t</ScrollView>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<TouchableOpacity style={styles.createReportPublishButton}\n\t\t\t\t\t\t\tonPress={() => {\tthis.createIncident();\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.navigation.navigate('ConfirmWaterQualityReport');}}>\n\t\t\t\t\t\t\t<Text style={{fontSize: 17, color: 'white', fontWeight: 'bold'}}>Enviar</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t<View style={styles.footer}>\n\t\t\t\t</View>\n\n\t\t\t</View>\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPermissionAsync();\n\t}\n\t\n\tgetPermissionAsync = async () => {\n\t\t// if (Constants.platform.ios) {\n\t\t//   const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n\t\t//   if (status !== 'granted') {\n\t\t// \talert('Sorry, we need camera roll permissions to make this work!');\n\t\t//   }\n\t\t// }\n\t};\n\t\n\t_pickImage = async () => {\n\t\ttry {\n\t\t  let result = await ImagePicker.launchImageLibraryAsync({\n\t\t\tmediaTypes: ImagePicker.MediaTypeOptions.All,\n\t\t\tallowsEditing: true,\n\t\t\taspect: [4, 3],\n\t\t\tquality: 1,\n\t\t});\n\t\tif (!result.cancelled) {\n\t\t\tthis.setState({ image: result.uri });\n\t\t}\n\t\n\t\tconsole.log(result);\n\t\t} catch (E) {\n\t\t  console.log(E);\n\t\t}\n\t};\n}"]},"metadata":{},"sourceType":"module"}