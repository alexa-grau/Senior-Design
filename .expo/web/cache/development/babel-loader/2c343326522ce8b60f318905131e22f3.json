{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/WaterHomeAdminRefresh.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { Form, Button } from 'native-base';\nimport styles from \"../Style\";\nexport var WaterHomeAdminRefresh = function (_React$Component) {\n  _inherits(WaterHomeAdminRefresh, _React$Component);\n\n  var _super = _createSuper(WaterHomeAdminRefresh);\n\n  function WaterHomeAdminRefresh() {\n    var _this;\n\n    _classCallCheck(this, WaterHomeAdminRefresh);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: []\n    };\n\n    _this.fetchData = function _callee() {\n      var response, users;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch('http://10.0.0.123:3004/reports'));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              users = _context.sent;\n\n              _this.setState({\n                data: users\n              });\n\n              console.log(_this.state.data[0].date);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(WaterHomeAdminRefresh, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.asdenic.org');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/asdenic.png\"),\n        style: styles.asdenicLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/frugalHub.png\"),\n        style: styles.frugalHubLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Welcome');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.logoutButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }\n      }, \"Cerrar sesi\\xF3n\"))), React.createElement(View, {\n        style: styles.pageContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.subheader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: styles.rightHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }\n      }, React.createElement(Button, {\n        style: styles.add,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('CreateNewWaterQualityReport');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: styles.addText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }\n      }, \"+\")), React.createElement(Button, {\n        style: styles.mail,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('InboxAdmin');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/mail.png\"),\n        style: styles.mailPicture,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 33\n        }\n      })))), React.createElement(Text, {\n        style: styles.waterTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, \"AGUA\"), React.createElement(Form, {\n        style: styles.waterForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.subTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }, \"Noticias\"), React.createElement(FlatList, {\n        inverted: true,\n        data: this.state.data,\n        getItemLayout: function getItemLayout(data, index) {\n          return {\n            length: 100,\n            offset: 100 * index,\n            index: index\n          };\n        },\n        initialScrollIndex: this.state.data.length - 1,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(Button, {\n            full: true,\n            rounded: true,\n            success: true,\n            style: styles.reportButton,\n            onPress: function onPress() {\n              return _this2.props.navigation.navigate('ViewIndividualWaterReport', {\n                titlePass: item.title,\n                messPass: item.message,\n                datePass: item.date\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }\n          }, item.urgent ? React.createElement(Image, {\n            source: require(\"../assets/emergency.png\"),\n            style: styles.emergency,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 39\n            }\n          }) : React.createElement(Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 39\n            }\n          }), React.createElement(Text, {\n            style: styles.buttonText,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }\n          }, item.title, \" \"), React.createElement(Text, {\n            style: styles.dateHome,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }\n          }, item.date));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }))), React.createElement(View, {\n        style: styles.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return WaterHomeAdminRefresh;\n}(React.Component);\nWaterHomeAdminRefresh.navigationOptions = {\n  title: 'WaterHomeAdminRefresh'\n};\nexport default WaterHomeAdminRefresh;","map":{"version":3,"sources":["/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/WaterHomeAdminRefresh.js"],"names":["React","Form","Button","styles","WaterHomeAdminRefresh","state","data","fetchData","fetch","response","json","users","setState","console","log","date","container","header","Linking","openURL","require","asdenicLogo","frugalHubLogo","props","navigation","navigate","logoutButton","pageContent","subheader","rightHeader","add","addText","mail","mailPicture","waterTitle","waterForm","subTitle","index","length","offset","item","toString","reportButton","titlePass","title","messPass","message","datePass","urgent","emergency","buttonText","dateHome","footer","Component","navigationOptions"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Text, Image, TouchableOpacity, ScrollView, FlatList, Linking } from 'react-native'\nimport { Form, Button } from 'native-base'\nimport styles from '../Style'\n\nexport class WaterHomeAdminRefresh extends React.Component {\n    static navigationOptions = {\n        title: 'WaterHomeAdminRefresh',\n    };\n\n    state = {\n        data: [],\n    };\n\n    fetchData = async() => {\n        const response = await fetch ('http://10.0.0.123:3004/reports');\n        const users = await response.json();\n        this.setState({data: users});\n        console.log(this.state.data[0].date);\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n\n    render() {\n        return (\n            <View style={styles.container}>\n                <View style={styles.header}>\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.asdenic.org')}>\n                        <Image source={require('../assets/asdenic.png')} style={styles.asdenicLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/')}>\n                        <Image source={require('../assets/frugalHub.png')} style={styles.frugalHubLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => this.props.navigation.navigate('Welcome')}>\n                        <Text style={styles.logoutButton}>Cerrar sesión</Text>\n                    </TouchableOpacity>\n                </View>\n\n                <View style={styles.pageContent}>\n\n                    <View style={styles.subheader}>\n\n                        <View style={styles.rightHeader}>\n                            <Button style={styles.add}\n                                onPress={() => this.props.navigation.navigate('CreateNewWaterQualityReport')}>\n                                <Text style={styles.addText}>+</Text>\n                            </Button>\n                            <Button style={styles.mail}\n                                onPress={() => this.props.navigation.navigate('InboxAdmin')}>\n                                <Image source={require('../assets/mail.png')} style={styles.mailPicture}/>\n                            </Button>\n                        </View>\n\n                    </View>\n\n                    <Text style={styles.waterTitle}>AGUA</Text>\n                    <Form style={styles.waterForm}>\n                        <Text style={styles.subTitle}>Noticias</Text>\n                        <FlatList inverted data={this.state.data} \n                            getItemLayout={(data, index) => (\n                                {length: 100, offset: 100 * index, index}\n                            )}\n                            initialScrollIndex={this.state.data.length - 1}\n                            keyExtractor={(item, index) => index.toString()}\n                            renderItem={({ item, index }) => \n                            <Button full rounded success style={styles.reportButton} onPress={() => this.props.navigation.navigate('ViewIndividualWaterReport',\n                                                                                                        {           \n                                                                                                            titlePass: item.title,\n                                                                                                            messPass: item.message,\n                                                                                                            datePass: item.date,\n                                                                                                        })}>\n                                {item.urgent\n                                    ? <Image source={require('../assets/emergency.png')} style={styles.emergency}/>\n                                    : <Text></Text>\n                                }\n                                <Text style={styles.buttonText}>{item.title} </Text>\n                                <Text style={styles.dateHome}>{item.date}</Text>\n                                \n                            </Button>}\n                        />\n                    </Form>\n                </View>\n\n                <View style={styles.footer}>\n                </View>\n\n            </View>\n        );\n    }\n}\n\nexport default WaterHomeAdminRefresh;"]},"metadata":{},"sourceType":"module"}