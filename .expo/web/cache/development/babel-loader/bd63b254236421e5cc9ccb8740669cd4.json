{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/GiveAdminRights.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { Form, Button } from 'native-base';\nimport styles from \"../Style\";\nimport { CheckBox } from 'react-native-elements';\nexport var GiveAdminRights = function (_React$Component) {\n  _inherits(GiveAdminRights, _React$Component);\n\n  var _super = _createSuper(GiveAdminRights);\n\n  function GiveAdminRights() {\n    var _this;\n\n    _classCallCheck(this, GiveAdminRights);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: []\n    };\n\n    _this.fetchData = function _callee() {\n      var response, users;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch('http://10.0.0.123:3004/users'));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 5:\n              users = _context.sent;\n\n              _this.setState({\n                data: users\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.saveChanges = function _callee2() {\n      var i;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              for (i = 0; i < _this.state.data.length; i++) {\n                if (_this.state.data[i].givenAdminRights == true) {\n                  fetch(\"http://10.0.0.13:3004/users\", {\n                    method: 'POST',\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                      \"phonenumber\": _this.state.data[i].phonenumber\n                    }),\n                    redirect: 'follow'\n                  }).then(function (response) {\n                    return response.text();\n                  }).then(function (result) {\n                    return console.log(result);\n                  }).catch(function (error) {\n                    return console.log('error', error);\n                  });\n                }\n              }\n\n              _this.props.navigation.navigate('WaterHomeBigAdmin');\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.checkThisBox = function (itemID) {\n      var data = _this.state.data;\n      data[itemID].givenAdminRights = !data[itemID].givenAdminRights;\n      data[itemID].checked = !data[itemID].checked;\n\n      _this.setState({\n        data: data\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GiveAdminRights, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.asdenic.org');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/asdenic.png\"),\n        style: styles.asdenicLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/frugalHub.png\"),\n        style: styles.frugalHubLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Welcome');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.logoutButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, \"Cerrar sesi\\xF3n\"))), React.createElement(View, {\n        style: styles.pageContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.adminRightsTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, \"Dar Acceso de admin\"), React.createElement(Form, {\n        style: styles.waterForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.subTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, \"Usarios\"), React.createElement(View, {\n        style: styles.subsubTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.requestedAccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }\n      }, \"Accceso\", '\\n', \"solicitado\"), React.createElement(Text, {\n        style: styles.giveAccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }, \"Accesso\", '\\n', \"concedido\")), React.createElement(FlatList, {\n        inverted: true,\n        data: this.state.data,\n        getItemLayout: function getItemLayout(data, index) {\n          return {\n            length: 100,\n            offset: 100 * index,\n            index: index\n          };\n        },\n        initialScrollIndex: this.state.data.length - 1,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(View, {\n            style: styles.adminRightsUsers,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }\n          }, React.createElement(View, {\n            style: styles.names,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }\n          }, React.createElement(Text, {\n            style: styles.adminRightsUserName,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }\n          }, item.firstname, \" \"), React.createElement(Text, {\n            style: styles.adminRightsUserName,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }\n          }, item.lastname)), React.createElement(View, {\n            style: styles.checkRights,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 33\n            }\n          }, item.requestedAdminRights ? React.createElement(Image, {\n            source: require(\"../assets/check.png\"),\n            style: styles.check_x,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 43\n            }\n          }) : React.createElement(Image, {\n            source: require(\"../assets/no.png\"),\n            style: styles.check_x,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 43\n            }\n          })), React.createElement(View, {\n            style: styles.checkBox,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }\n          }, React.createElement(CheckBox, {\n            containerStyle: styles.checkbox,\n            checkedIcon: \"check-square-o\",\n            uncheckedIcon: \"square-o\",\n            checked: _this2.state.data[index].checked,\n            onPress: function onPress() {\n              return _this2.checkThisBox(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }\n          })));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.GiveAdminRightsSubmit,\n        onPress: function onPress() {\n          return _this2.saveChanges();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 17,\n          color: 'white',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }\n      }, \"Guardar cambios\"))), React.createElement(View, {\n        style: styles.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return GiveAdminRights;\n}(React.Component);\nGiveAdminRights.navigationOptions = {\n  title: 'GiveAdminRights'\n};\nexport default GiveAdminRights;","map":{"version":3,"sources":["/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/GiveAdminRights.js"],"names":["React","Form","Button","styles","CheckBox","GiveAdminRights","state","data","fetchData","fetch","response","json","users","setState","saveChanges","i","length","givenAdminRights","method","headers","body","JSON","stringify","phonenumber","redirect","then","text","result","console","log","catch","error","props","navigation","navigate","checkThisBox","itemID","checked","container","header","Linking","openURL","require","asdenicLogo","frugalHubLogo","logoutButton","pageContent","adminRightsTitle","waterForm","subTitle","subsubTitle","requestedAccess","giveAccess","index","offset","item","toString","adminRightsUsers","names","adminRightsUserName","firstname","lastname","checkRights","requestedAdminRights","check_x","checkBox","checkbox","GiveAdminRightsSubmit","fontSize","color","fontWeight","footer","Component","navigationOptions","title"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Text, Image, TouchableOpacity, ScrollView, FlatList, Linking } from 'react-native'\nimport { Form, Button } from 'native-base'\nimport styles from '../Style'\nimport { CheckBox } from 'react-native-elements'\n\nexport class GiveAdminRights extends React.Component {\n    static navigationOptions = {\n        title: 'GiveAdminRights',\n    };\n\n    state = {\n        data: [],\n    };\n\n    fetchData = async() => {\n        const response = await fetch ('http://10.0.0.123:3004/users');\n        const users = await response.json();\n        this.setState({data: users});\n    }\n\n    saveChanges = async() => {\n        for(let i = 0; i < this.state.data.length; i++) {\n            if(this.state.data[i].givenAdminRights == true) {\n                //updates users in database\n                fetch(\"http://10.0.0.13:3004/users\", {\n                    method: 'POST',\n                    headers: {\"Content-Type\": \"application/json\"},\n                    body: JSON.stringify({\"phonenumber\":this.state.data[i].phonenumber}),\n                    redirect: 'follow'\n                })\n                    .then(response => response.text())\n                    .then(result => console.log(result))\n                    .catch(error => console.log('error', error));\n            }  \n        }\n\n\t\tthis.props.navigation.navigate('WaterHomeBigAdmin');\n    }\n\n    componentDidMount() {\n        this.fetchData();\n    }\n\n    checkThisBox=(itemID)=>{\n        let data=this.state.data\n        data[itemID].givenAdminRights=!data[itemID].givenAdminRights\n        data[itemID].checked=!data[itemID].checked\n        this.setState({data:data})\n    }\n\n    render() {\n        return (\n            <View style={styles.container}>\n                <View style={styles.header}>\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.asdenic.org')}>\n                        <Image source={require('../assets/asdenic.png')} style={styles.asdenicLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/')}>\n                        <Image source={require('../assets/frugalHub.png')} style={styles.frugalHubLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => this.props.navigation.navigate('Welcome')}>\n                        <Text style={styles.logoutButton}>Cerrar sesión</Text>\n                    </TouchableOpacity>\n                </View>\n\n                <View style={styles.pageContent}>\n\n                    <Text style={styles.adminRightsTitle}>Dar Acceso de admin</Text>\n                    <Form style={styles.waterForm}>\n                        <Text style={styles.subTitle}>Usarios</Text>\n                        <View style={styles.subsubTitle}>\n                            <Text style={styles.requestedAccess}>Accceso{'\\n'}solicitado</Text>\n                            <Text style={styles.giveAccess}>Accesso{'\\n'}concedido</Text>\n                        </View>\n\n                        <FlatList inverted data={this.state.data} \n                            getItemLayout={(data, index) => (\n                                {length: 100, offset: 100 * index, index}\n                            )}\n                            initialScrollIndex={this.state.data.length - 1}\n                            keyExtractor={(item, index) => index.toString()}\n                            renderItem={({ item, index }) => \n                            <View style={styles.adminRightsUsers}>\n                                <View style={styles.names}>\n                                    <Text style={styles.adminRightsUserName}>{item.firstname} </Text>\n                                    <Text style={styles.adminRightsUserName}>{item.lastname}</Text>\n                                </View>\n\n\n                                <View style={styles.checkRights}>\n                                    {item.requestedAdminRights\n                                        ? <Image source={require('../assets/check.png')} style={styles.check_x}/>\n                                        : <Image source={require('../assets/no.png')} style={styles.check_x}/>\n                                    }\n                                </View>\n\n                                <View style={styles.checkBox}>\n                                    <CheckBox\n                                            containerStyle={styles.checkbox}\n                                            checkedIcon='check-square-o'\n                                            uncheckedIcon='square-o'\n                                            // checked={this.state.checked}\n                                            checked={this.state.data[index].checked}\n                                            onPress={() => this.checkThisBox(index)}\n                                    />\n                                </View>\n                            \n                            </View>}\n                        />\n                    </Form>\n\n                    <TouchableOpacity style={styles.GiveAdminRightsSubmit}\n                            onPress={() =>  this.saveChanges() }>\n                            <Text style={{fontSize: 17, color: 'white', fontWeight: 'bold'}}>Guardar cambios</Text>\n                    </TouchableOpacity> \n                </View>\n\n                <View style={styles.footer}>\n                </View>\n\n            </View>\n        );\n    }\n}\n\nexport default GiveAdminRights;"]},"metadata":{},"sourceType":"module"}