{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { Item, Form, Input, Button, Label } from \"native-base\";\nimport styles from \"../Style\";\nimport SendSMS from 'react-native-sms';\nimport * as SMS from 'expo-sms';\nimport Expo from 'expo';\nimport UserProfile from \"../UserProfile\";\nexport var Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.correctLogin = function _callee() {\n      var checkNum, checkPass;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              checkNum = _this.state.phoneNum;\n              checkPass = _this.state.password;\n\n              if (checkNum == 0 && checkPass == \"design\") {\n                _this.props.navigation.navigate('Home', {\n                  admin: true,\n                  bigAdmin: true\n                });\n              }\n\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(fetch(\"http://localhost:3004/users/\" + checkNum + \"/\" + checkPass, {\n                method: 'GET',\n                redirect: 'follow'\n              }).then(function (response) {\n                return response.json();\n              }).then(function (result) {\n                if (result.length == 0) {\n                  alert('No coinciden la contraseña y el número de teléfono.');\n                  return;\n                } else {\n                  console.log('user exists');\n\n                  if (result[0].mainAdmin == 1) {\n                    _this.props.navigation.navigate('Home', {\n                      admin: true,\n                      bigAdmin: true\n                    });\n                  } else if (result[0].givenAdminRights == 0) {\n                    _this._saveInfo();\n\n                    _this.props.navigation.navigate('Home', {\n                      admin: false,\n                      bigAdmin: false\n                    });\n                  } else {\n                    _this._saveInfo();\n\n                    _this.props.navigation.navigate('Home');\n\n                    _this.props.navigation.navigate('Home', {\n                      admin: true,\n                      bigAdmin: false\n                    });\n                  }\n                }\n              }).catch(function (error) {\n                return console.log('error', error);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.sendCode = function _callee2() {\n      var isAvailable, _await$Expo$SMS$sendS, result;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Expo.SMS.isAvailableAsync());\n\n            case 2:\n              isAvailable = _context2.sent;\n\n              if (!isAvailable) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(Expo.SMS.sendSMSAsync(['123456789'], 'test1234'));\n\n            case 6:\n              _await$Expo$SMS$sendS = _context2.sent;\n              result = _await$Expo$SMS$sendS.result;\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      phoneNum: \"\",\n      password: \"\",\n      reports: []\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"_saveInfo\",\n    value: function _saveInfo() {\n      console.log(this.state.phoneNum);\n      UserProfile.setNumber(this.state.phoneNum);\n\n      if (this.state.bigAdmin) {\n        UserProfile.setMainAdmin(1);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.headerHome,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.asdenic.org');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/asdenic.png\"),\n        style: styles.asdenicLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/frugalHub.png\"),\n        style: styles.frugalHubLogoHome,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }))), React.createElement(View, {\n        style: styles.pageContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, React.createElement(Item, {\n        floatingLabel: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }, \"Numero de telefono m\\xF3vil\"), React.createElement(Input, {\n        autoCapitalize: \"none\",\n        keyboardType: \"number-pad\",\n        autoCorrect: false,\n        onChangeText: function onChangeText(phoneNum) {\n          return _this2.setState({\n            phoneNum: phoneNum\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }\n      })), React.createElement(Item, {\n        floatingLabel: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      }, \"Contrase\\xF1a\"), React.createElement(Input, {\n        secureTextEntry: true,\n        autoCapitalize: \"none\",\n        autoCorrect: false,\n        onChangeText: function onChangeText(password) {\n          return _this2.setState({\n            password: password\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      })), React.createElement(Button, {\n        full: true,\n        rounded: true,\n        success: true,\n        style: styles.blueButton,\n        onPress: function onPress() {\n          return _this2.correctLogin();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }\n      }, \"Entrar\")), React.createElement(Button, {\n        style: styles.link,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('CreateNewAccount');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.loginPageButtons,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }, \"\\xBFEs nuevo aqu\\xED? \\xA1Crea una cuenta!\"))))), React.createElement(View, {\n        style: styles.footer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\nLogin.navigationOptions = {\n  title: 'Login'\n};\nexport default Login;","map":{"version":3,"sources":["/Users/alexagrau/Documents/SeniorDesign/Senior-Design/screens/Login.js"],"names":["React","Item","Form","Input","Button","Label","styles","SendSMS","SMS","Expo","UserProfile","Login","props","correctLogin","checkNum","state","phoneNum","checkPass","password","navigation","navigate","admin","bigAdmin","fetch","method","redirect","then","response","json","result","length","alert","console","log","mainAdmin","givenAdminRights","_saveInfo","catch","error","sendCode","isAvailableAsync","isAvailable","sendSMSAsync","reports","setNumber","setMainAdmin","container","headerHome","Linking","openURL","require","asdenicLogo","frugalHubLogoHome","pageContent","form","setState","blueButton","buttonText","link","loginPageButtons","footer","Component","navigationOptions","title"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Text, Image, TouchableOpacity, Linking } from 'react-native'\nimport { Item, Form, Input, Button, Label } from \"native-base\"\nimport styles from '../Style'\nimport SendSMS from 'react-native-sms'\nimport * as SMS from 'expo-sms';\nimport Expo from 'expo';\nimport UserProfile from '../UserProfile';\n\nexport class Login extends React.Component {\n    static navigationOptions = {\n        title: 'Login',\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            phoneNum: \"\",\n            password: \"\",\n            reports: []\n        };\n    }\n\n    // getReports = () => {\n\n    //     fetch(\"http://10.0.0.123:3004/reports\", {\n    //         method: 'GET',\n    //         redirect: 'follow'\n    //     })\n    //         .then(response => response.json())\n    //         .then(result => {   //console.log(result);\n    //                             this.state.reports = result;\n    //                             console.log(this.state.reports);\n    //                             this.props.navigation.navigate('WaterHome', {\n    //                                 report: this.state.reports,\n    //                             })\n    //                         })\n    //         .catch(error => console.log('error', error));    \n    // }\n\n\n\n\n    correctLogin = async() => {\n        var checkNum = this.state.phoneNum;\n        var checkPass = this.state.password;\n\n        if(checkNum==0 && checkPass==\"design\"){\n            // console.log(\"Design testing\");\n            this.props.navigation.navigate('Home', { admin:true, bigAdmin:true });\n        }\n\n        // await fetch(\"http://10.0.0.13:3004/users/\" + checkNum + \"/\" + checkPass, {\n        await fetch(\"http://localhost:3004/users/\" + checkNum + \"/\" + checkPass, {\n            method: 'GET',\n            redirect: 'follow'\n        })\n            .then(response => response.json())\n            .then(result => {   \n                                //console.log(typeof result);\n                                if (result.length == 0)\n                                {\n                                    alert('No coinciden la contraseña y el número de teléfono.');\n                                    return;\n                                    // console.log('no user exists with this phone number, cannot login');\n                                    // alert('Existe ningún usuario con este número de teléfono. Volver a intentar o crear una cuenta.');\n                                }\n                                else\n                                {\n                                    console.log('user exists');\n\n                                    // if (MyBcrypt.comparePass(this.state.password, result[0].password))\n                                    //     //MyBcrypt.comparePass(this.state.password, result[0].password)\n                                    // {\n                                        if (result[0].mainAdmin == 1)\n                                        {\n                                            // this.props.navigation.navigate('WaterHomeBigAdmin');\n                                            // this.props.navigation.navigate('Home');\n                                            this.props.navigation.navigate('Home', { admin:true, bigAdmin:true });\n                                        }\n                                        else if (result[0].givenAdminRights == 0)\n                                        {\n                                            this._saveInfo();\n                                            // this.props.navigation.navigate('WaterHomeGen');\n                                            // this.props.navigation.navigate('Home');\n                                            this.props.navigation.navigate('Home', { admin:false, bigAdmin:false });\n                                        }\n                                        else\n                                        {\n                                            this._saveInfo();\n                                            // this.props.navigation.navigate('WaterHomeAdmin');\n                                            this.props.navigation.navigate('Home');\n                                            this.props.navigation.navigate('Home', { admin:true, bigAdmin:false });\n                                        }\n                                    // }\n                                    // else\n                                    // {\n                                    //     alert('No coinciden la contraseña y el número de teléfono.');\n                                    //     return;\n                                    // }\n                                }\n                            })\n            .catch(error => console.log('error', error));\n\n    }\n\n    sendCode = async() => {\n        // SendSMS.send({\n        //     //Message body\n        //     body: '12495',\n        //     //Recipients Number\n        //     recipients: ['2066602920'],\n        //     //An array of types that would trigger a \"completed\" response when using android\n        //     successTypes: ['sent', 'queued']\n        // }, (completed, cancelled, error) => {\n        //     console.log('SMS Callback: completed: ' + completed + ' cancelled: ' + cancelled + 'error: ' + error);\n        // });\n\n        const isAvailable = await Expo.SMS.isAvailableAsync();\n            if (isAvailable) {\n              const { result } = await Expo.SMS.sendSMSAsync(['123456789'], 'test1234');\n            }\n    }\n\n    _saveInfo() {\n        console.log(this.state.phoneNum);\n        UserProfile.setNumber(this.state.phoneNum);\n        if(this.state.bigAdmin){\n            UserProfile.setMainAdmin(1);\n        }\n    }\n    // componentDidMount () {\n    //     this.correctLogin();\n    // }\n    \n    render() {\n        return (\n            <View style={styles.container}>\n                <View style={styles.headerHome}>\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.asdenic.org')}>\n                        <Image source={require('../assets/asdenic.png')} style={styles.asdenicLogo}/>\n                    </TouchableOpacity>\n\n                    <TouchableOpacity\n                        onPress={() => Linking.openURL('https://www.scu.edu/engineering/labs--research/labs/frugal-innovation-hub/')}>\n                        <Image source={require('../assets/frugalHub.png')} style={styles.frugalHubLogoHome}/>\n                    </TouchableOpacity>\n\n                </View>\n\n                <View style={styles.pageContent}>\n                    <View style={styles.form}>\n                    <Form>\n                        <Item floatingLabel>\n                            <Label>Numero de telefono móvil</Label>\n                            <Input\n                            autoCapitalize=\"none\"\n                            keyboardType = \"number-pad\"\n                            autoCorrect={false}\n                            onChangeText={phoneNum => this.setState({ phoneNum })} />\n                        </Item>\n\n                        <Item floatingLabel>\n                            <Label>Contraseña</Label>\n                            <Input\n                            secureTextEntry={true}\n                            autoCapitalize=\"none\"\n                            autoCorrect={false}\n                            onChangeText={password => this.setState({ password })} />\n                        </Item>\n\n                        <Button full rounded success style={styles.blueButton}\n                            onPress={() => this.correctLogin ()}>\n                            <Text style={styles.buttonText}>Entrar</Text>\n                        </Button>\n\n                        <Button style={styles.link}\n                            onPress={() => this.props.navigation.navigate('CreateNewAccount')}>\n                            <Text style={styles.loginPageButtons}>¿Es nuevo aquí? ¡Crea una cuenta!</Text>\n                        </Button>\n                    </Form>\n                    </View>\n\n                </View>\n\n                <View style={styles.footer}>\n                </View>\n\n            </View>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}